{"ast":null,"code":"import _asyncToGenerator from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import StateTag from'../components/state-tag';import dp from'../images/user.jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UsersPage(props){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),matchedUsers=_useState4[0],setMatchedUsers=_useState4[1];useEffect(function(){var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/users');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setUsers(data);setMatchedUsers(data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getUsers(){return _ref.apply(this,arguments);};}();getUsers();},[]);var handleChange=function handleChange(e){var currentValue=e.target.value;var lengthOfCurrentValue=currentValue.length;var matched=users.filter(function(eachUser){return currentValue.slice(0,lengthOfCurrentValue)===eachUser.username.slice(0,lengthOfCurrentValue);});setMatchedUsers(matched);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StateTag,{page:/*#__PURE__*/_jsx(\"input\",{className:\"search-users\",placeholder:\"Search Users\",onChange:handleChange})}),matchedUsers.map(function(eachUser){return/*#__PURE__*/_jsxs(\"div\",{className:\"user\",onClick:function onClick(){props.setReceiver(eachUser.username);navigate('/conversations');},children:[/*#__PURE__*/_jsx(\"img\",{src:dp}),\" \",eachUser.username]},eachUser._id);})]});}export default UsersPage;","map":{"version":3,"sources":["/data/data/com.termux/files/home/chat-app/react-app/src/pages/users-page.jsx"],"names":["useEffect","useState","axios","useNavigate","StateTag","dp","UsersPage","props","navigate","users","setUsers","matchedUsers","setMatchedUsers","getUsers","get","data","handleChange","e","currentValue","target","value","lengthOfCurrentValue","length","matched","filter","eachUser","slice","username","map","setReceiver","_id"],"mappings":"8ZAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,EAAP,KAAe,qBAAf,C,wFAEA,QAASC,CAAAA,SAAT,CAAmBC,KAAnB,CAAyB,CACvB,GAAMC,CAAAA,QAAQ,CAAEL,WAAW,EAA3B,CACA,cAAyBF,QAAQ,CAAC,EAAD,CAAjC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAuCT,QAAQ,CAAC,EAAD,CAA/C,yCAAOU,YAAP,eAAqBC,eAArB,eAEAZ,SAAS,CAAE,UAAI,CACb,GAAMa,CAAAA,QAAQ,0FAAE,mLACQX,CAAAA,KAAK,CAACY,GAAN,CAAU,QAAV,CADR,uCACNC,IADM,kBACNA,IADM,CAEdL,QAAQ,CAACK,IAAD,CAAR,CACAH,eAAe,CAACG,IAAD,CAAf,CAHc,sDAAF,kBAARF,CAAAA,QAAQ,0CAAd,CAKAA,QAAQ,GACT,CAPQ,CAON,EAPM,CAAT,CASA,GAAMG,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,CAAD,CAAK,CACvB,GAAMC,CAAAA,YAAY,CAAED,CAAC,CAACE,MAAF,CAASC,KAA7B,CACA,GAAMC,CAAAA,oBAAoB,CAAEH,YAAY,CAACI,MAAzC,CACA,GAAMC,CAAAA,OAAO,CAAEd,KAAK,CAACe,MAAN,CAAc,SAACC,QAAD,CAAY,CACvC,MAASP,CAAAA,YAAY,CAACQ,KAAb,CAAmB,CAAnB,CAAqBL,oBAArB,IAA+CI,QAAQ,CAACE,QAAT,CAAkBD,KAAlB,CAAwB,CAAxB,CAA0BL,oBAA1B,CAAxD,CACD,CAFc,CAAf,CAGAT,eAAe,CAACW,OAAD,CAAf,CACD,CAPD,CAQA,mBAAO,oCACL,KAAC,QAAD,EACA,IAAI,cAAG,cAAO,SAAS,CAAC,cAAjB,CAAgC,WAAW,CAAC,cAA5C,CAA2D,QAAQ,CAAEP,YAArE,EADP,EADK,CAIJL,YAAY,CAACiB,GAAb,CAAkB,SAACH,QAAD,qBAAa,aAAwB,SAAS,CAAC,MAAlC,CAAyC,OAAO,CAAI,kBAAI,CAAClB,KAAK,CAACsB,WAAN,CAAkBJ,QAAQ,CAACE,QAA3B,EAAsCnB,QAAQ,CAAC,gBAAD,CAAR,CAA2B,CAA1H,wBAC9B,YAAK,GAAG,CAAEH,EAAV,EAD8B,KACboB,QAAQ,CAACE,QADI,GAAUF,QAAQ,CAACK,GAAnB,CAAb,EAAlB,CAJI,GAAP,CAQD,CACD,cAAexB,CAAAA,SAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nimport StateTag from '../components/state-tag';\nimport dp from '../images/user.jpeg';\n\nfunction UsersPage(props){\n  const navigate= useNavigate();\n  const [users, setUsers]= useState([]);\n  const [matchedUsers, setMatchedUsers]= useState([]);\n  \n  useEffect( ()=>{\n    const getUsers= async ()=>{\n      const { data }= await axios.get('/users');\n      setUsers(data);\n      setMatchedUsers(data);\n    }\n    getUsers();\n  }, []);\n  \n  const handleChange= (e)=>{\n    const currentValue= e.target.value;\n    const lengthOfCurrentValue= currentValue.length;\n    const matched= users.filter( (eachUser)=>{\n      return ( currentValue.slice(0,lengthOfCurrentValue) === eachUser.username.slice(0,lengthOfCurrentValue) )\n    } );\n    setMatchedUsers(matched);\n  }\n  return(<div>\n    <StateTag\n    page= {<input className=\"search-users\" placeholder=\"Search Users\" onChange={handleChange} />}\n    />\n    {matchedUsers.map( (eachUser)=>(<div key={eachUser._id} className=\"user\" onClick= { ()=>{props.setReceiver(eachUser.username) ;navigate('/conversations')} }>\n      <img src={dp}/> {eachUser.username}\n    </div>))}\n  </div>);\n}\nexport default UsersPage;"]},"metadata":{},"sourceType":"module"}