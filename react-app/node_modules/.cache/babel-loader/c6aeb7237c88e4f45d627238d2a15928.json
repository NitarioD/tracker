{"ast":null,"code":"import _asyncToGenerator from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import Logo from'../images/chatapp.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RegisterPage(props){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var handleChange=function handleChange(e){if(e.target.name==='username'){setUsername(e.target.value);}else if(e.target.name==='password'){setPassword(e.target.value);}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password.length>=5)){_context.next=14;break;}_context.prev=1;_context.next=4;return axios.post(\"/register\",{username:username,password:password});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;if(data.auth){navigate('/');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setErrorMessage(_context.t0.response.data);case 12:_context.next=15;break;case 14:setErrorMessage(\"Your password must be atleast 5 characters long\");case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"access-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entry-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"access\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"access-label\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Sign Up\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"john_doe\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"password\",onChange:handleChange})]}),errorMessage!==''&&/*#__PURE__*/_jsx(\"span\",{children:errorMessage}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup\",onClick:function onClick(){return navigate('/login');},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-reply\",\"aria-hidden\":\"true\"}),\" \",/*#__PURE__*/_jsx(\"i\",{children:\"login\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-sign-in\",\"aria-hidden\":\"true\"})})]})]});}export default RegisterPage;","map":{"version":3,"sources":["/data/data/com.termux/files/home/chat-app/react-app/src/pages/register-page.jsx"],"names":["axios","React","useState","useNavigate","Logo","RegisterPage","props","navigate","username","setUsername","password","setPassword","errorMessage","setErrorMessage","handleChange","e","target","name","value","handleSubmit","length","post","data","auth","response"],"mappings":"8ZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,C,wFAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA4B,CAE1B,GAAMC,CAAAA,QAAQ,CAAEJ,WAAW,EAA3B,CAEA,cAA+BD,QAAQ,CAAC,EAAD,CAAvC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA+BP,QAAQ,CAAC,EAAD,CAAvC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAAyCT,QAAQ,CAAC,EAAD,CAAjD,yCAAQU,YAAR,eAAsBC,eAAtB,eAEA,GAAMC,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,CAAD,CAAK,CACvB,GAAIA,CAAC,CAACC,MAAF,CAASC,IAAT,GAAkB,UAAtB,CAAiC,CAC/BR,WAAW,CAACM,CAAC,CAACC,MAAF,CAASE,KAAV,CAAX,CACD,CAFD,IAEM,IAAIH,CAAC,CAACC,MAAF,CAASC,IAAT,GAAkB,UAAtB,CAAiC,CACrCN,WAAW,CAACI,CAAC,CAACC,MAAF,CAASE,KAAV,CAAX,CACD,CAEF,CAPD,CASA,GAAMC,CAAAA,YAAY,0FAAE,iBAAOJ,CAAP,kJACdL,QAAQ,CAACU,MAAT,EAAmB,CADL,iEAGMpB,CAAAA,KAAK,CAACqB,IAAN,CAAW,WAAX,CAAwB,CAACb,QAAQ,CAAEA,QAAX,CAAqBE,QAAQ,CAAEA,QAA/B,CAAxB,CAHN,wCAGRY,IAHQ,mBAGRA,IAHQ,CAIhB,GAAIA,IAAI,CAACC,IAAT,CAAc,CACZhB,QAAQ,CAAC,GAAD,CAAR,CACD,CANe,+EAQhBM,eAAe,CAAC,YAAIW,QAAJ,CAAaF,IAAd,CAAf,CARgB,uCAWlBT,eAAe,CAAC,iDAAD,CAAf,CAXkB,oEAAF,kBAAZM,CAAAA,YAAY,4CAAlB,CAeA,mBAAO,aAAK,SAAS,CAAC,kBAAf,wBACP,YAAK,SAAS,CAAC,YAAf,uBAA4B,YAAK,GAAG,CAAEf,IAAV,CAAgB,GAAG,CAAC,MAApB,EAA5B,EADO,cAEP,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,SAAS,CAAC,cAAf,uBACE,iCADF,EADF,cAIE,aAJF,cAKE,aALF,cAME,oCACE,mCADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,QAAQ,CAAEU,YAAxD,EAFF,GANF,cAUE,oCACE,mCADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,QAAQ,CAAEA,YAAxD,EAFF,GAVF,CAcIF,YAAY,GAAK,EAAlB,eAAwB,sBAAOA,YAAP,EAd3B,cAeE,cAAM,SAAS,CAAC,QAAhB,CAAyB,OAAO,CAAE,yBAAKL,CAAAA,QAAQ,CAAC,QAAD,CAAb,EAAlC,wBAA4D,UAAG,SAAS,CAAC,aAAb,CAA2B,cAAY,MAAvC,EAA5D,kBAA+G,4BAA/G,GAfF,cAgBE,eAAQ,OAAO,CAAGY,YAAlB,uBAAiC,UAAG,SAAS,CAAC,eAAb,CAA6B,cAAY,MAAzC,EAAjC,EAhBF,GAFO,GAAP,CAqBD,CACD,cAAed,CAAAA,YAAf","sourcesContent":["import axios from 'axios';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport Logo from '../images/chatapp.png';\n\nfunction RegisterPage(props){\n  \n  const navigate= useNavigate();\n  \n  const [username, setUsername]= useState('');\n  const [password, setPassword]= useState('');\n  const [ errorMessage, setErrorMessage ]= useState('');\n  \n  const handleChange= (e)=>{\n    if (e.target.name === 'username'){\n      setUsername(e.target.value);\n    }else if (e.target.name === 'password'){\n      setPassword(e.target.value);\n    }\n    \n  }\n  \n  const handleSubmit= async (e)=>{\n    if (password.length >= 5){\n      try{\n      const { data }= await axios.post(\"/register\", {username: username, password: password});\n      if (data.auth){\n        navigate('/');\n      }\n    }catch(err){\n      setErrorMessage(err.response.data);\n    }\n  }else{\n    setErrorMessage(\"Your password must be atleast 5 characters long\");\n  }\n  }\n  \n  return(<div className=\"access-container\">\n  <div className='entry-logo'><img src={Logo} alt='logo'/></div>\n  <div className=\"access\">\n    <div className=\"access-label\">\n      <span>Sign Up</span>\n    </div>\n    <hr />\n    <br />\n    <div>\n      <label>Username</label>\n      <input name=\"username\" placeholder=\"john_doe\" onChange={handleChange} />\n    </div>\n    <div>\n      <label>Password</label>\n      <input name=\"password\" placeholder=\"password\" onChange={handleChange} />\n    </div>\n    {(errorMessage !== '')&& <span>{errorMessage}</span>}\n    <span className=\"signup\" onClick={()=>(navigate('/login'))}><i className=\"fa fa-reply\" aria-hidden=\"true\"></i> <i>login</i></span>\n    <button onClick={ handleSubmit }><i className=\"fa fa-sign-in\" aria-hidden=\"true\"></i></button>\n  </div>\n  </div>);\n}\nexport default RegisterPage;"]},"metadata":{},"sourceType":"module"}