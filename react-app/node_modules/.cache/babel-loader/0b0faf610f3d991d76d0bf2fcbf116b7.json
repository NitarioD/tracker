{"ast":null,"code":"import _asyncToGenerator from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/data/data/com.termux/files/home/chat-app/react-app/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import Logo from'../images/chatapp.png';import{useNavigate}from'react-router-dom';import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AccessPage(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var navigate=useNavigate();var handleChange=function handleChange(e){if(e.target.name==='username'){setUsername(e.target.value);}else if(e.target.name==='password'){setPassword(e.target.value);}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var data,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;data={username:username,password:password};_context.next=4;return axios.post(\"/login\",data);case 4:response=_context.sent;if(response.data.auth){props.setValidation(true);navigate('/');}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0.response.data==='Unauthorized'){setErrorMessage('The username and password does not match');}else{setErrorMessage(_context.t0.response.data);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"access-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entry-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"access\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"access-label\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Login\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",placeholder:\"john_doe\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"password\",onChange:handleChange})]}),errorMessage!==''&&/*#__PURE__*/_jsx(\"span\",{children:errorMessage}),/*#__PURE__*/_jsxs(\"span\",{className:\"signup\",onClick:function onClick(){return navigate('/register');},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-reply\",\"aria-hidden\":\"true\"}),\" \",/*#__PURE__*/_jsx(\"i\",{children:\"sign up\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-sign-in\",\"aria-hidden\":\"true\"})})]})]});}export default AccessPage;","map":{"version":3,"sources":["/data/data/com.termux/files/home/chat-app/react-app/src/pages/access-page.jsx"],"names":["axios","Logo","useNavigate","React","useState","AccessPage","props","username","setUsername","password","setPassword","errorMessage","setErrorMessage","navigate","handleChange","e","target","name","value","handleSubmit","data","post","response","auth","setValidation"],"mappings":"8ZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,OAASC,WAAT,KAA6B,kBAA7B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA0B,CACxB,cAA+BF,QAAQ,CAAC,EAAD,CAAvC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAA+BJ,QAAQ,CAAC,EAAD,CAAvC,yCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAyCN,QAAQ,CAAC,EAAD,CAAjD,yCAAQO,YAAR,eAAsBC,eAAtB,eAEA,GAAMC,CAAAA,QAAQ,CAAEX,WAAW,EAA3B,CAEA,GAAMY,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,CAAD,CAAK,CACvB,GAAIA,CAAC,CAACC,MAAF,CAASC,IAAT,GAAkB,UAAtB,CAAiC,CAC/BT,WAAW,CAACO,CAAC,CAACC,MAAF,CAASE,KAAV,CAAX,CACD,CAFD,IAEM,IAAIH,CAAC,CAACC,MAAF,CAASC,IAAT,GAAkB,UAAtB,CAAiC,CACrCP,WAAW,CAACK,CAAC,CAACC,MAAF,CAASE,KAAV,CAAX,CACD,CAEF,CAPD,CASA,GAAMC,CAAAA,YAAY,0FAAE,iBAAOJ,CAAP,oJAEVK,IAFU,CAEH,CAACb,QAAQ,CAAEA,QAAX,CAAqBE,QAAQ,CAAEA,QAA/B,CAFG,uBAGMT,CAAAA,KAAK,CAACqB,IAAN,CAAW,QAAX,CAAqBD,IAArB,CAHN,QAGVE,QAHU,eAIhB,GAAIA,QAAQ,CAACF,IAAT,CAAcG,IAAlB,CAAuB,CACrBjB,KAAK,CAACkB,aAAN,CAAoB,IAApB,EACAX,QAAQ,CAAC,GAAD,CAAR,CACD,CAPe,+EAShB,GAAI,YAAIS,QAAJ,CAAaF,IAAb,GAAsB,cAA1B,CAAyC,CACvCR,eAAe,CAAC,0CAAD,CAAf,CACD,CAFD,IAEK,CACHA,eAAe,CAAC,YAAIU,QAAJ,CAAaF,IAAd,CAAf,CACD,CAbe,oEAAF,kBAAZD,CAAAA,YAAY,4CAAlB,CAiBA,mBAAO,aAAK,SAAS,CAAC,kBAAf,wBACP,YAAK,SAAS,CAAC,YAAf,uBAA4B,YAAK,GAAG,CAAElB,IAAV,CAAgB,GAAG,CAAC,MAApB,EAA5B,EADO,cAEP,aAAK,SAAS,CAAC,QAAf,wBACE,YAAK,SAAS,CAAC,cAAf,uBACE,+BADF,EADF,cAIE,aAJF,cAKE,aALF,cAME,oCACE,mCADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,QAAQ,CAAEa,YAAxD,EAFF,GANF,cAUE,oCACE,mCADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,UAAnC,CAA8C,QAAQ,CAAEA,YAAxD,EAFF,GAVF,CAcIH,YAAY,GAAK,EAAlB,eAAwB,sBAAOA,YAAP,EAd3B,cAeE,cAAM,SAAS,CAAC,QAAhB,CAAyB,OAAO,CAAE,yBAAKE,CAAAA,QAAQ,CAAC,WAAD,CAAb,EAAlC,wBAA+D,UAAG,SAAS,CAAC,aAAb,CAA2B,cAAY,MAAvC,EAA/D,kBAAkH,8BAAlH,GAfF,cAgBE,eAAQ,OAAO,CAAGM,YAAlB,uBAAiC,UAAG,SAAS,CAAC,eAAb,CAA6B,cAAY,MAAzC,EAAjC,EAhBF,GAFO,GAAP,CAqBD,CACD,cAAed,CAAAA,UAAf","sourcesContent":["import axios from 'axios';\nimport Logo from '../images/chatapp.png';\nimport { useNavigate  } from 'react-router-dom';\nimport React, { useState } from 'react';\n\nfunction AccessPage(props){\n  const [username, setUsername]= useState('');\n  const [password, setPassword]= useState('');\n  const [ errorMessage, setErrorMessage ]= useState('');\n  \n  const navigate= useNavigate();\n  \n  const handleChange= (e)=>{\n    if (e.target.name === 'username'){\n      setUsername(e.target.value);\n    }else if (e.target.name === 'password'){\n      setPassword(e.target.value);\n    }\n    \n  }\n\n  const handleSubmit= async (e)=>{\n    try{\n      const data=  {username: username, password: password};\n      const response= await axios.post(\"/login\", data);\n      if (response.data.auth){\n        props.setValidation(true);\n        navigate('/');\n      }\n    }catch(err){\n      if (err.response.data === 'Unauthorized'){\n        setErrorMessage('The username and password does not match');\n      }else{\n        setErrorMessage(err.response.data);\n      }\n    }\n  }\n  \n  return(<div className=\"access-container\">\n  <div className='entry-logo'><img src={Logo} alt='logo'/></div>\n  <div className=\"access\">\n    <div className=\"access-label\">\n      <span>Login</span>\n    </div>\n    <hr />\n    <br />\n    <div>\n      <label>Username</label>\n      <input name=\"username\" placeholder=\"john_doe\" onChange={handleChange}/>\n    </div>\n    <div>\n      <label>Password</label>\n      <input name=\"password\" placeholder=\"password\" onChange={handleChange}/>\n    </div>\n    {(errorMessage !== '')&& <span>{errorMessage}</span>}\n    <span className=\"signup\" onClick={()=>(navigate('/register'))}><i className=\"fa fa-reply\" aria-hidden=\"true\"></i> <i>sign up</i></span>\n    <button onClick={ handleSubmit }><i className=\"fa fa-sign-in\" aria-hidden=\"true\"></i></button>\n  </div>\n  </div>);\n}\nexport default AccessPage;"]},"metadata":{},"sourceType":"module"}